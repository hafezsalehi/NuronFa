<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>پاپ‌آپ‌های رندم</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #111;
    overflow: hidden;
    position: relative;
  }

  .popup {
    position: absolute;
    width: 50px;
    height: 50px;
    background: #ff4081;
    border-radius: 8px;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    font-weight: bold;
    pointer-events: none;
  }
</style>
</head>
<body>

<script>
  const numRows = 5;   // تعداد خطوط افقی
  const numCols = 7;   // تعداد خطوط عمودی
  const popups = [];

  const cellWidth = window.innerWidth / numCols;
  const cellHeight = window.innerHeight / numRows;

  // محاسبه موقعیت‌ها یکبار
  const positions = [];
  for (let r = 0; r < numRows; r++) {
    for (let c = 0; c < numCols; c++) {
      positions.push({
        x: c * cellWidth + Math.random() * (cellWidth - 50),
        y: r * cellHeight + Math.random() * (cellHeight - 50)
      });
    }
  }

  function createPopups() {
    // پاک کردن پاپ‌آپ‌های قبلی
    popups.forEach(p => p.remove());
    popups.length = 0;

    // تعداد رندم پاپ‌آپ‌ها
    const count = Math.floor(Math.random() * positions.length) + 1;

    // انتخاب موقعیت‌های رندم
    const shuffled = positions.sort(() => 0.5 - Math.random());
    for (let i = 0; i < count; i++) {
      const pos = shuffled[i];
      const popup = document.createElement('div');
      popup.className = 'popup';
      popup.style.left = pos.x + 'px';
      popup.style.top = pos.y + 'px';
      popup.textContent = i + 1;
      document.body.appendChild(popup);
      popups.push(popup);
    }
  }

  // ایجاد پاپ‌آپ‌ها هر 2 ثانیه
  createPopups();
  setInterval(createPopups, 2000);
</script>

</body>
</html>
